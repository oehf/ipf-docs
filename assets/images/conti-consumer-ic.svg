<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="506px" preserveAspectRatio="none" style="width:521px;height:506px;background:#FFFFFF;" version="1.1" viewBox="0 0 521 506" width="521px" zoomAndPan="magnify"><defs><filter height="300%" id="fpdopaoqis5y3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="487.1797" style="stroke:#A80036;stroke-width:1.0;" width="347" x="168" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97" x="293" y="19.4951">IPF Application</text><rect fill="#FFFFFF" filter="url(#fpdopaoqis5y3)" height="393.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="221" y="95.3125"/><rect fill="#FFFFFF" filter="url(#fpdopaoqis5y3)" height="70.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="433" y="125.6641"/><rect fill="#FFFFFF" filter="url(#fpdopaoqis5y3)" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="280" x="10" y="211.3672"/><rect fill="#FFFFFF" filter="url(#fpdopaoqis5y3)" height="122.4063" style="stroke:#000000;stroke-width:2.0;" width="428" x="10" y="359.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="62.9609" y2="499.1797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="226" x2="226" y1="62.9609" y2="499.1797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="438" x2="438" y1="62.9609" y2="499.1797"/><rect fill="#FEFECE" filter="url(#fpdopaoqis5y3)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="50" x="20" y="26.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="27" y="47.8848">Client</text><rect fill="#FEFECE" filter="url(#fpdopaoqis5y3)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="104" x="172" y="26.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="179" y="47.8848">IPF Consumer</text><rect fill="#FEFECE" filter="url(#fpdopaoqis5y3)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="142" x="365" y="26.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="372" y="47.8848">Server Camel Route</text><rect fill="#FFFFFF" filter="url(#fpdopaoqis5y3)" height="393.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="221" y="95.3125"/><rect fill="#FFFFFF" filter="url(#fpdopaoqis5y3)" height="70.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="433" y="125.6641"/><polygon fill="#A80036" points="209,91.3125,219,95.3125,209,99.3125,213,95.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="215" y1="95.3125" y2="95.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="54" y="90.4561">Request</text><polygon fill="#A80036" points="421,121.6641,431,125.6641,421,129.6641,425,125.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="231" x2="427" y1="125.6641" y2="125.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="238" y="120.8076">Request</text><path d="M448,138.6641 L448,164.6641 L506,164.6641 L506,148.6641 L496,138.6641 L448,138.6641 " fill="#FBFB77" filter="url(#fpdopaoqis5y3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M496,138.6641 L496,148.6641 L506,148.6641 L496,138.6641 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="454" y="157.1592">.from()</text><polygon fill="#A80036" points="242,192.3672,232,196.3672,242,200.3672,238,196.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="236" x2="437" y1="196.3672" y2="196.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="248" y="191.5107">Unfragmented Response</text><path d="M10,211.3672 L83,211.3672 L83,219.3672 L73,229.3672 L10,229.3672 L10,211.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="280" x="10" y="211.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="225.8623">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="60" x="98" y="224.7861">[n-1 times]</text><polygon fill="#A80036" points="58,248.0703,48,252.0703,58,256.0703,54,252.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="220" y1="252.0703" y2="252.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="64" y="247.2139">Response fragment</text><polygon fill="#A80036" points="209,278.4219,219,282.4219,209,286.4219,213,282.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="215" y1="282.4219" y2="282.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="54" y="277.5654">Request for next fragment</text><polygon fill="#A80036" points="58,340.7734,48,344.7734,58,348.7734,54,344.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="220" y1="344.7734" y2="344.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="64" y="339.917">Last response fragment</text><path d="M10,359.7734 L75,359.7734 L75,367.7734 L65,377.7734 L10,377.7734 L10,359.7734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="122.4063" style="stroke:#000000;stroke-width:2.0;" width="428" x="10" y="359.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="25" y="374.2686">opt</text><polygon fill="#A80036" points="209,396.4766,219,400.4766,209,404.4766,213,400.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="47" x2="215" y1="400.4766" y2="400.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="54" y="395.6201">Cancel</text><line style="stroke:#A80036;stroke-width:1.0;" x1="231" x2="273" y1="430.8281" y2="430.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="273" x2="273" y1="430.8281" y2="443.8281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="232" x2="273" y1="443.8281" y2="443.8281"/><polygon fill="#A80036" points="242,439.8281,232,443.8281,242,447.8281,238,443.8281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="238" y="425.9717">Delete interactive fragment chain</text><polygon fill="#A80036" points="58,470.1797,48,474.1797,58,478.1797,54,474.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="52" x2="220" y1="474.1797" y2="474.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="64" y="469.3232">Cancel Acknowledgement</text><!--MD5=[1332e425114434dc5b36ef3dc9dfb7fa]
@startuml
hide footbox

participant "Client"
box "IPF Application"
participant "IPF Consumer" as CON
participant "Server Camel Route" as SCR
end box

Client -> CON : Request
activate CON
CON -> SCR : Request
activate SCR
note right of SCR: .from()
SCR - -> CON : Unfragmented Response
deactivate SCR

loop n-1 times
    CON - -> Client : Response fragment
    Client -> CON : Request for next fragment
end
|||
CON - -> Client : Last response fragment

opt
    Client -> CON : Cancel
    CON -> CON: Delete interactive fragment chain
    CON - -> Client : Cancel Acknowledgement
end

deactivate CON

@enduml

PlantUML version 1.2022.1(Tue Feb 01 19:19:58 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: de
Country: CH
--></g></svg>